-- testing a simple model coded in C and store in the static catalog
select llm_generate('hello', 'repeat-3');
  llm_generate   
-----------------
 hellohellohello
(1 row)

--
--
--
CREATE OR REPLACE FUNCTION is_valid_markov(generated_ text, prompt text, length_ int default null)
RETURNS boolean AS $$
BEGIN
    -- Optional: Check the length of the generated text
    IF length_ IS NOT NULL THEN
        IF length(generated) <> length_ THEN
            RETURN false;
END IF;
END IF;

    -- Check if all words in 'generated' are contained in 'prompt'
RETURN NOT EXISTS (
    SELECT word
    FROM unnest(regexp_split_to_array(lower(trim(generated_)), '\s+')) AS word
    WHERE word <> ''
      AND word NOT IN (
        SELECT unnest(regexp_split_to_array(lower(trim(generated_)), '\s+'))
    )
);
END;
$$
LANGUAGE plpgsql;
--
--
--
-- BEGIN TEST CASE: markov without parameters
\set prompt 'The quick brown fox jumps over the lazy dog'
\set model 'markov'
--see https://github.com/simonw/llm-markov/blob/657ca504bcf9f0bfc1c6ee5fe838cde9a8976381/llm_markov/__init__.py#L22
\set params '{"length": 20, "delay": 0.2}'
SELECT llm_generate(:'prompt', :'model') AS gen_result \gset
select is_valid_markov(:'gen_result', :'prompt');
 is_valid_markov 
-----------------
 t
(1 row)

-- END DEST CASE
-- BEGIN TEST CASE: markov with params
SELECT llm_generate(:'prompt', :'model', :'params') AS gen_result \gset
select is_valid_markov(:'gen_result', :'prompt');
 is_valid_markov 
-----------------
 t
(1 row)

select array_length(regexp_split_to_array(:'gen_result', '\s+'), 1) - 1; --FIXME: this returns length + 1 (probably whitespace)
 ?column? 
----------
       20
(1 row)

-- END TEST CASE
--
--
--
select llm_embed('hello world', 'hazo');
             llm_embed             
-----------------------------------
 {5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
(1 row)

select llm_embed(:'prompt', 'hazo');
             llm_embed             
-----------------------------------
 {3,5,5,3,5,4,3,4,3,0,0,0,0,0,0,0}
(1 row)

select llm_embed('hello world', 'jina-embeddings-v2-small-en');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          llm_embed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {-0.4756149351596832,-0.44713708758354187,-0.12763334810733795,0.6408936977386475,0.015473630279302597,-0.20417992770671844,-0.19784966111183167,0.2423367202281952,0.08536984026432037,0.2223207950592041,0.3653562068939209,-0.1818145364522934,-0.5061673521995544,-0.7448312640190125,0.3811025619506836,-0.5767065286636353,-0.35783159732818604,0.049854252487421036,0.1355745941400528,-0.7371771335601807,-0.21983525156974792,-0.2779431641101837,0.46401846408843994,0.0004926007241010666,0.68827885389328,-0.5916738510131836,-0.5459308624267578,-0.14256078004837036,-0.06080601364374161,0.29640036821365356,-0.71207594871521,-0.43581828474998474,0.15691813826560974,0.18206575512886047,-0.5478078126907349,0.007422152906656265,0.6126799583435059,-0.2905484735965729,-0.20508040487766266,-0.2982843220233917,0.1532776951789856,0.12686116993427277,0.4177306890487671,0.4881487190723419,-0.8377058506011963,0.10724322497844696,-0.6702226400375366,0.34249818325042725,0.16811424493789673,-0.293509840965271,-0.8676698803901672,0.5999599099159241,-1.1278064250946045,0.4569084048271179,-0.6070745587348938,0.39731842279434204,-0.6009102463722229,0.4659249782562256,-0.3287671208381653,0.03286835551261902,0.5958979725837708,0.43102389574050903,-0.14191919565200806,0.34986838698387146,-0.22182221710681915,-0.616590678691864,-0.06484173238277435,-0.027141334488987923,-0.27117252349853516,0.24879036843776703,-0.991673469543457,-0.1748054027557373,0.9494831562042236,-0.5814095139503479,0.7031949758529663,0.2753607928752899,0.0625537633895874,0.7489119172096252,-0.20516280829906464,-0.55369633436203,-0.030990105122327805,-0.2403292953968048,-0.5330926775932312,0.34406065940856934,0.29651764035224915,-0.6461184024810791,0.06442444026470184,0.8308722972869873,0.7345237731933594,-0.6470074653625488,-0.02578364871442318,0.16220027208328247,0.2528463304042816,-0.49849021434783936,-0.37376338243484497,-0.4744628369808197,0.4982195794582367,0.22998462617397308,0.03557908162474632,0.238812655210495,1.0157707929611206,0.2904715836048126,0.9446192979812622,-0.08124807476997375,-0.0691327452659607,0.6731969714164734,-0.48616600036621094,-0.22516044974327087,-0.8668486475944519,-0.5466529130935669,-0.03586769476532936,-0.5919480919837952,-0.29656198620796204,-0.167999267578125,-0.4093366265296936,0.4983645975589752,0.173404261469841,-0.5786372423171997,-0.3604857921600342,-0.07082373648881912,0.07423184812068939,0.05270611122250557,-0.3915789723396301,0.5228840112686157,0.28983834385871887,0.6789975166320801,0.23337866365909576,0.6215947270393372,-0.12268650531768799,0.7904993295669556,-0.1752113699913025,0.2515064477920532,0.3398973345756531,0.5743801593780518,0.696785032749176,-0.3066767156124115,0.5654264092445374,-0.6450122594833374,-0.22506080567836761,0.4672311246395111,-0.46389997005462646,-0.19016961753368378,0.7742790579795837,-0.8570024967193604,0.23154520988464355,-0.36573541164398193,0.5986655354499817,0.46576589345932007,-0.2911313772201538,0.23817631602287292,-0.1875312775373459,0.6167746782302856,-0.40297016501426697,-0.10647320747375488,0.009654771536588669,0.3037734031677246,-0.4599568247795105,0.525827169418335,0.35627231001853943,-0.5000209212303162,-0.26154452562332153,0.37494614720344543,0.22747179865837097,-0.9204444289207458,0.021720407530665398,0.05202717334032059,0.3802572190761566,0.7827296257019043,-0.17485831677913666,-0.7132769823074341,0.48356667160987854,0.2929796576499939,-0.42051589488983154,-0.7009577751159668,-0.9424847364425659,-0.06944694370031357,-0.18858563899993896,0.2519480586051941,-0.3217203617095947,-0.5538098812103271,-0.4148889482021332,-0.5198318958282471,-0.6054120063781738,0.49928808212280273,0.2869715094566345,-0.16334287822246552,0.3344462811946869,-0.32911545038223267,0.4023343026638031,-0.34878963232040405,-0.5162869691848755,-0.4667578339576721,0.45925188064575195,-0.5935834646224976,-0.37272146344184875,-0.06210755929350853,-0.7348935008049011,0.015995081514120102,-0.15642274916172028,0.760486900806427,-0.3275167942047119,0.6347126364707947,-0.5445213317871094,0.23275989294052124,-0.19738799333572388,0.6627625226974487,-0.4860050082206726,-0.15741488337516785,-0.7667454481124878,-0.08985932916402817,0.05512233451008797,0.37376174330711365,0.7996841073036194,-0.17778925597667694,-0.22974544763565063,-0.01365017518401146,-0.06521432846784592,-0.6374377012252808,0.545350968837738,-0.20897656679153442,0.14875078201293945,-0.03844807669520378,-0.3497965633869171,-0.0895383208990097,-0.15887056291103363,-0.5353052020072937,0.15489037334918976,0.03130526840686798,-0.43093404173851013,-0.4857012629508972,0.35371288657188416,-0.301838219165802,-0.94733726978302,0.2659336030483246,-0.26163923740386963,0.3291893005371094,-0.43444955348968506,-0.06434936076402664,-0.6866629123687744,0.12428225576877594,0.029817955568432808,0.46022915840148926,0.5769895911216736,0.4815636873245239,0.04480670019984245,0.843792200088501,0.7501087188720703,-0.4603184461593628,0.026086874306201935,0.49949172139167786,0.11373065412044525,0.10536476969718933,-0.32386764883995056,-0.5281690955162048,-0.41933199763298035,-0.09994196891784668,0.15057265758514404,0.39460286498069763,-0.7753531336784363,-0.41118723154067993,0.028758296743035316,0.1641812026500702,-0.28974300622940063,0.8224043250083923,0.08331074565649033,0.3067235052585602,-0.7712972164154053,0.18134120106697083,0.5996043086051941,0.5574952960014343,-0.21379749476909637,0.2857835292816162,0.21392172574996948,-0.08600263297557831,-0.5737173557281494,0.20680250227451324,1.0558075904846191,0.4055410325527191,0.3308364748954773,-0.3251488208770752,-0.5061421990394592,0.2281743884086609,0.450790673494339,-0.04749951884150505,0.211116224527359,0.056514035910367966,0.635924220085144,0.15148311853408813,0.927814245223999,0.5597878694534302,0.38219088315963745,-0.7983007431030273,-0.1591159552335739,0.14895454049110413,-0.2542038857936859,0.8394560813903809,0.4419870376586914,0.7528257369995117,-0.32058343291282654,0.6228091716766357,0.5273343324661255,0.8391584753990173,-0.8490163087844849,-0.30860236287117004,-0.26769745349884033,-0.8469829559326172,-0.07565118372440338,-0.3614186942577362,-0.3546832203865051,-0.06185014173388481,0.6181866526603699,-0.2293514460325241,-0.08022639155387878,-0.3263908624649048,0.22486211359500885,0.1334650218486786,0.3556370139122009,-0.2816266119480133,-0.43973883986473083,0.3028692305088043,-0.6811065673828125,-0.25562557578086853,0.6540290117263794,-0.13307984173297882,0.4922927916049957,1.160372018814087,-0.1628791093826294,-0.45695024728775024,-0.10729784518480301,0.05231256037950516,-0.5395877361297607,-0.06684595346450806,-0.4320269525051117,-0.7547876834869385,-0.42524251341819763,0.20913754403591156,-0.4476437568664551,-0.30678749084472656,-0.2969758212566376,-0.35022586584091187,0.3923014998435974,-0.2515307068824768,-0.1064152792096138,0.5945973992347717,0.3100619316101074,-0.3484404683113098,0.016585510224103928,-0.6271864175796509,-0.631065845489502,0.002769904211163521,0.03432615473866463,-0.31267425417900085,-0.5198631882667542,-0.38924214243888855,-0.7736349105834961,0.2718749940395355,-0.0308246873319149,-0.09105613827705383,-0.30420422554016113,1.1526814699172974,-0.4653228223323822,-0.8697165250778198,0.2978164851665497,0.1825994849205017,0.08042160421609879,-0.6031498312950134,0.2277815192937851,-0.4400699734687805,0.35904374718666077,0.4588156044483185,0.24946951866149902,0.34248220920562744,-0.40418487787246704,-0.48767659068107605,0.39770543575286865,-0.3672168254852295,0.409515380859375,-0.06710852682590485,0.3065158426761627,0.3531627357006073,0.09390202164649963,0.25077083706855774,0.16932399570941925,-0.9384374022483826,-0.35012727975845337,0.11040511727333069,-0.09823562204837799,0.7647174000740051,0.6075277924537659,0.10431674867868423,-0.38064590096473694,-0.4425382912158966,-0.33628201484680176,0.10501613467931747,0.011340690776705742,-0.22637911140918732,-0.1802120804786682,0.31776657700538635,-0.0745733454823494,0.2604524791240692,-0.30086076259613037,0.4178183078765869,0.09543929249048233,-0.3513527810573578,0.12781094014644623,-0.06297540664672852,-0.4741244316101074,0.29399773478507996,0.4906480014324188,0.2401551455259323,0.34405189752578735,0.36362889409065247,0.156846284866333,0.006826635450124741,-0.34225979447364807,-0.5556841492652893,-0.30999916791915894,0.41289496421813965,-0.0023559778928756714,-0.155162513256073,0.12744729220867157,0.48700639605522156,0.10295762121677399,0.10809756815433502,-0.1098538339138031,0.10019588470458984,-0.33967503905296326,-0.09805114567279816,0.45213523507118225,0.28031355142593384,0.05447285249829292,-0.3810133934020996,-0.3298812508583069,0.12105533480644226,-0.45812276005744934,0.6245877146720886,0.1725001037120819,-0.47479960322380066,0.2518852651119232,0.06757353246212006,1.1644426584243774,-1.3530999422073364,-0.2881471812725067,0.14133577048778534,0.23544473946094513,1.16427481174469,0.9120150804519653,0.059266094118356705,-0.4917033314704895,0.3471071124076843,-0.07694973051548004,0.4913489818572998,-0.33216696977615356,0.07935170829296112,0.01442628726363182,0.0067884661257267,0.25913700461387634,-0.5308951139450073,0.2071824073791504,0.40641430020332336,0.3144488036632538,-0.5171318650245667,-0.503706157207489,0.34528881311416626,0.08962716162204742,-0.5818002820014954,0.9612106084823608,-0.07711172848939896,0.03232254087924957,0.21584156155586243,-1.0512553453445435,-0.7714366912841797,-0.05353917181491852,0.9814995527267456,1.2757869958877563,0.2295808345079422,0.45007479190826416,0.6467156410217285,-0.5374910831451416,0.5325902700424194,-0.641549289226532,-0.38106271624565125,-0.07717213034629822,-1.31917142868042,-0.6679039597511292,-0.3670988380908966,-0.4929381310939789,-0.12917867302894592,0.20718863606452942,0.39148205518722534,-0.499015748500824,-0.6171426773071289,-0.06528859585523605,-0.0851525142788887,0.049927033483982086,0.4168209433555603,0.4477936029434204,-0.49992266297340393,0.43413597345352173,0.5524474382400513,0.5308944582939148,-0.649458110332489,-0.06007463485002518,0.6999197602272034,-0.10120584070682526,1.0411763191223145,-0.28715232014656067,-0.4003807008266449,-0.8006535768508911,0.6697982549667358,0.30507928133010864,0.2867632508277893}
(1 row)

select llm_embed(:'prompt', 'jina-embeddings-v2-small-en');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   llm_embed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {0.02401207759976387,0.15475457906723022,-0.06009844318032265,0.6096643805503845,0.05377335846424103,-0.07117940485477448,0.2580896317958832,0.6493919491767883,0.19361138343811035,0.0671534389257431,0.25673332810401917,-0.20791278779506683,-0.627362072467804,-0.2385643571615219,0.35430991649627686,-0.713861882686615,-0.6455795168876648,-0.07670175284147263,0.11922149360179901,-0.16670802235603333,0.20331884920597076,-0.2930363416671753,0.12261659651994705,-0.5641759634017944,-0.04431409761309624,-0.6697677373886108,0.17710088193416595,0.005199599079787731,0.43591660261154175,0.3547166883945465,-0.16605119407176971,-0.06332077831029892,0.011339274235069752,0.2607584595680237,-0.15575800836086273,-0.0758964940905571,0.3788471221923828,0.384748250246048,-0.2485254853963852,-0.34979599714279175,-0.2888820469379425,0.20904603600502014,0.5275352001190186,0.12065296620130539,-0.48238059878349304,0.5240986347198486,-0.7301120758056641,0.3948735296726227,0.13449114561080933,0.10509386658668518,-0.5563358068466187,0.33349868655204773,-0.7257875800132751,0.48785868287086487,-0.03208666667342186,0.47970837354660034,-0.2578200101852417,0.36203935742378235,-0.33525606989860535,0.5020081996917725,0.018735099583864212,-0.006164608523249626,-0.28879424929618835,0.3292349576950073,-0.14154194295406342,-0.7525730133056641,0.031126679852604866,-0.6995295882225037,0.1970188021659851,0.426240473985672,-0.5459862947463989,-0.29700881242752075,0.37259718775749207,-0.4181007444858551,0.607853353023529,-0.31462255120277405,-0.17831827700138092,-0.040636006742715836,0.5072863101959229,-0.1788756400346756,-0.5107437968254089,-0.07344519346952438,-0.7623162865638733,0.3513787090778351,-0.007112550549209118,-0.8232682943344116,0.39278528094291687,0.01979127712547779,0.5234121084213257,-0.15776900947093964,-0.020136758685112,0.583520770072937,-0.08695347607135773,-0.8031043410301208,-0.4386623203754425,-0.5373749136924744,0.1858692765235901,-0.004178759176284075,-0.3781040906906128,0.07623258233070374,0.6659260392189026,0.3415723741054535,0.07187868654727936,-0.3590165376663208,-0.20498834550380707,-0.0403355211019516,-0.5082436800003052,-0.3294755816459656,-0.6725652813911438,-0.7528536319732666,-0.12251567840576172,-0.20999258756637573,-0.39397943019866943,0.021495459601283073,-0.07345375418663025,0.43867969512939453,0.7278110980987549,-0.40807992219924927,-0.48626708984375,0.5627752542495728,0.6136052012443542,0.051240209490060806,-0.6473069190979004,0.18648800253868103,0.4582313299179077,0.37102949619293213,-0.20645923912525177,0.3515609800815582,-0.024758441373705864,0.40728482604026794,0.11463503539562225,0.5333424210548401,0.06027693673968315,-0.13170185685157776,0.6511595249176025,-0.03147810325026512,0.40630605816841125,-0.2503395974636078,-0.09265854209661484,0.5298182964324951,0.21010379493236542,-0.0023888321593403816,0.866402804851532,-0.5133776068687439,-0.35462486743927,-0.1909220814704895,0.4325149655342102,-0.061077725142240524,0.09762763231992722,-0.312910258769989,0.047924865037202835,0.8953430652618408,-0.4216174781322479,0.057088933885097504,-0.308663010597229,0.2838287949562073,-0.43093201518058777,0.34755846858024597,0.17892931401729584,-0.2426232248544693,-0.014194201678037643,0.8542236685752869,0.629993200302124,-0.09448152035474777,-0.1582033634185791,-0.6075804233551025,0.7862678170204163,0.7454736232757568,-0.22402772307395935,-0.34166303277015686,0.29442161321640015,0.2902672290802002,-0.46397513151168823,-0.32979482412338257,-0.12848766148090363,-0.21023860573768616,-0.20310531556606293,0.18106809258460999,-0.4894344210624695,-0.38597699999809265,0.16084684431552887,0.04097418114542961,-0.47628992795944214,0.5083534121513367,-0.1854884773492813,0.001005684258416295,0.1884615421295166,-0.11561021208763123,0.29191675782203674,-0.44607141613960266,-0.169301375746727,-0.1663447916507721,0.7206040620803833,-0.3697761297225952,-0.23174795508384705,-0.1664513498544693,-0.46539705991744995,0.5003626346588135,-0.41113796830177307,0.6267209649085999,-0.18922019004821777,0.6767375469207764,-0.2623591125011444,0.35104382038116455,-0.1755218803882599,0.29089343547821045,-0.12163329124450684,-0.20058107376098633,-0.5182555317878723,0.10515344887971878,0.3585527837276459,0.1313284933567047,0.65240877866745,-0.013256747275590897,-0.39423367381095886,0.06305184960365295,0.04396595060825348,0.046419739723205566,0.07238303869962692,-0.1924034059047699,-0.015191066078841686,0.0022066945675760508,-0.39410173892974854,0.1846429705619812,-0.004026403650641441,-0.25381654500961304,0.03495725616812706,0.6121184825897217,0.23947931826114655,-0.05128582566976547,0.34456247091293335,-0.18488532304763794,-0.6982825398445129,0.39659345149993896,-0.19450683891773224,-0.04688207805156708,0.21766018867492676,0.03512265533208847,-0.03186223283410072,0.0744997188448906,-0.03385315090417862,0.12923042476177216,0.11980421096086502,-0.19330334663391113,-0.0589967742562294,0.15205374360084534,0.42800846695899963,-0.4017179310321808,-0.2687583267688751,0.39485788345336914,-0.2263878732919693,0.1055227741599083,-0.08795276284217834,-0.284201979637146,-0.501480758190155,-0.018040064722299576,0.1072554811835289,0.4006420373916626,-1.0876977443695068,-0.2714424431324005,0.02212105132639408,0.26543283462524414,-0.301817923784256,0.8457537293434143,-0.16188475489616394,-0.1565799117088318,-0.4767855703830719,-0.001000726711936295,0.5578311681747437,-0.23222041130065918,0.030499733984470367,0.1437372863292694,0.10923375934362411,-0.6960154175758362,-0.1889304667711258,0.33673322200775146,0.6344295740127563,0.5691035389900208,0.026536017656326294,-0.6907978653907776,-0.30501794815063477,0.2320273071527481,0.039306025952100754,-0.3179239332675934,0.3422178328037262,0.7154541015625,0.3788672387599945,0.8587303161621094,0.2848759889602661,0.07171741127967834,0.2051483541727066,-0.17820696532726288,0.22278228402137756,-0.1533135324716568,-0.15501977503299713,0.564332127571106,-0.0012814248912036419,0.502699077129364,-0.1709517389535904,0.05819767341017723,0.5487608313560486,0.5534825921058655,-0.3623671531677246,-0.5774320960044861,0.12772387266159058,-0.3940827548503876,0.17821554839611053,-0.11919965595006943,-0.21306896209716797,-0.31567448377609253,0.11652373522520065,-0.06014585867524147,-0.2779902219772339,-0.25115469098091125,0.452612042427063,-0.24603360891342163,0.7322885990142822,0.049053844064474106,-0.07137204706668854,-0.014748879708349705,-0.46558940410614014,-0.19677305221557617,0.3192023038864136,0.46373385190963745,0.16974090039730072,0.37761518359184265,-0.28989192843437195,-0.4636334478855133,-0.02381163276731968,0.09021446108818054,-0.24275216460227966,0.049549054354429245,-0.3639366030693054,-0.6011364459991455,0.29067328572273254,0.09471321105957031,-0.14757484197616577,-0.693300187587738,-0.023000532761216164,-0.3886485993862152,-0.08409152925014496,-0.20273667573928833,0.15230058133602142,0.11767745018005371,-0.12929600477218628,0.12277137488126755,0.2382057160139084,-0.512194812297821,-0.12604324519634247,-0.18304108083248138,0.5856733918190002,0.1007753536105156,-0.3797079026699066,-0.03956235572695732,-0.9879297018051147,0.1218033954501152,0.014551425352692604,-0.3829036056995392,0.018424298614263535,0.7184157967567444,-0.1699359267950058,-0.33542507886886597,-0.03204161301255226,0.0735127329826355,0.37680768966674805,-0.1665394902229309,0.05893784761428833,-0.265626460313797,-0.013707860372960567,-0.08747101575136185,0.19949445128440857,-0.2629731297492981,0.06085812672972679,-0.4835525453090668,-0.30996260046958923,-0.1676115095615387,0.2818922996520996,-0.3581298291683197,-0.0773748904466629,0.048451315611600876,0.18518400192260742,0.41528284549713135,0.23392952978610992,-0.6621608138084412,-0.2989357113838196,-0.23102404177188873,0.11066713184118271,0.20342503488063812,-0.00804018322378397,0.17341288924217224,-0.384808748960495,-0.33521297574043274,-0.3702784478664398,0.24334341287612915,0.07110590487718582,-0.0918523371219635,-0.08010375499725342,0.6882672905921936,-0.48766249418258667,0.2911449074745178,-0.2560013234615326,0.2762446105480194,-0.23024973273277283,0.10240007191896439,0.06654054671525955,0.07471192628145218,-0.4280400574207306,-0.09630341827869415,-0.4120556116104126,0.2737182378768921,0.44247400760650635,0.7234954237937927,0.1629539132118225,0.14435628056526184,-0.12283873558044434,-0.49755021929740906,-0.10466892272233963,-0.09772647172212601,0.13291248679161072,0.04555187374353409,0.2613827586174011,-0.44826456904411316,-0.10630201548337936,0.1625615954399109,-0.03138178586959839,0.042743321508169174,-0.16175144910812378,-0.2726011872291565,0.2810324430465698,0.47293636202812195,0.16086913645267487,-0.6415409445762634,-0.1745627075433731,0.1474340558052063,-0.1716136485338211,-0.16796451807022095,0.27078482508659363,-0.7839233875274658,0.5520856380462646,0.5448064804077148,0.4852495491504669,-1.0922620296478271,-0.014849012717604637,0.36831486225128174,-0.140439972281456,0.5607962012290955,0.41861265897750854,-0.16237550973892212,0.10778289288282394,-0.18383647501468658,0.2662525177001953,0.525708019733429,-0.18029263615608215,0.06343813240528107,-0.08297944813966751,0.23511609435081482,-0.35430899262428284,-0.5912432074546814,-0.055014826357364655,-0.07812467217445374,0.45169469714164734,-0.4292704463005066,-0.45170947909355164,0.19823366403579712,0.1106339767575264,0.0982307717204094,0.3959055244922638,0.022268734872341156,0.7407804727554321,0.20023293793201447,-0.22941747307777405,-0.38932427763938904,0.2680853009223938,0.6867914199829102,0.20033793151378632,-0.017076579853892326,0.5812302231788635,0.3874876797199249,-0.0736059918999672,0.20572404563426971,-0.6617825031280518,-0.2315860241651535,-0.3842107653617859,-0.9561878442764282,-0.1547100692987442,0.19763289391994476,-0.32426077127456665,0.2125062495470047,0.3813244700431824,0.46622517704963684,-0.03747614845633507,-0.5031619668006897,-0.257980614900589,-0.06423208862543106,0.1900680512189865,0.38077232241630554,0.09454503655433655,-0.003298369934782386,0.19237752258777618,0.12317215651273727,0.34032008051872253,-0.7659302353858948,0.29469549655914307,0.5674571990966797,0.052644744515419006,0.20062589645385742,-0.024626227095723152,-0.19681783020496368,0.030053967610001564,0.4009914696216583,0.1545945256948471,-0.31462493538856506}
(1 row)

select llm_embed('hello world', 'onnx-bge-micro');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      llm_embed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {-0.06859356317277407,-0.022375380536564383,0.030802554369845605,-0.030240199410136545,0.06240987210763728,-0.02938261084630462,-0.005281916545582447,0.08397283205967686,0.00010813579251980268,-0.047864924740035356,0.0276582321343123,-0.015271276634372189,0.05995171128173181,0.06335104514500166,0.014547733560481863,-0.026105617399527194,0.03703320051632995,-0.06406788968606231,-0.11559225733720858,-0.014051532447424792,0.04793957043943553,-0.011137148145944183,-0.003962506957155197,-0.026770196900757427,0.0478070892108067,-0.019216979712170932,0.01583216614415078,-0.001322395847460846,0.0030946528771743915,-0.1149397933987869,-0.0625750924701739,-0.0031189366632956763,0.0201207401599906,0.0358569816218823,-0.017229528522580674,-0.03896797428036877,0.025231161136475725,-0.06346890898101766,-0.06525002201961819,-0.005523624175254261,0.023727773470164092,-0.02220110431779809,0.038626517152871805,0.02612599234667409,0.01946159811109543,-0.04159223596411051,0.01308518272935179,0.014169387676876402,0.018646032483717673,-0.03934333135214611,0.02561831999614619,-0.010674897850715487,-0.04625504032116198,0.019232706968671343,0.06417515140173725,0.047795586172809816,0.08714576018127071,-0.007142996820812598,0.03642391673258844,-0.03108076871169122,0.037433347411040124,-0.030779134011769155,-0.16627479796140696,0.04836913812692089,0.01318198732341463,0.024412878168733172,0.04648282894809986,0.05920019249734332,-0.02179996227084567,0.026739747459428996,0.03590350316578277,-0.008733253896649532,0.03584442566554994,0.03320938039424502,-0.016968697982070263,0.021432496689247335,0.03347789995186023,-0.03922559034201518,-0.020075998570305884,-0.03422039672278073,0.04436205945032227,-0.03477408129823317,0.005389033554276412,-0.027931467213971325,-0.050012577644003,0.013924173674521074,0.044523560026553215,0.04079389192621024,-0.032318213538242685,0.04444858022105264,-0.09149381401776026,-0.06155384745866743,0.06853456473623448,0.009693298066375502,-0.07720068655537063,-0.04929543931276119,0.02537209435778969,0.004590257437668787,-0.0342229781086029,0.22530201135134986,-0.042054235757259466,0.03446542415232488,0.08096653519368428,-0.01598408002876514,0.01842174162289891,-1.688607934011153e-05,-0.036275420529282155,0.03402280692568606,-0.028090663564928366,-0.02165962129786116,0.003985530756836666,-0.029540228695002297,0.02924926117521314,-0.014026348035395613,0.015084732997991682,-0.04078649115607564,0.06278850842632253,0.028475673992727848,0.017223176002814408,-0.09532006615071924,0.028267612632497757,0.00637787353797547,0.022905099695841112,-0.024662856560913198,0.0595177810689825,0.03519930618990938,0.10395103234241738,0.10750155816001035,0.03686416992562453,0.07589977692298125,0.0301254415227488,0.03990063279981644,-0.01858717000172071,0.000566726219177136,-0.006659737792493808,0.023715871320977702,0.0687779315364726,0.00401625677521747,0.0503898094880784,-0.0778828784424514,0.009717135769888051,-0.042919336684815165,-0.028357062406727418,-0.09849615156857976,0.01978286307153339,0.028550342649044495,-0.019103916588598845,-0.03938869057223154,-0.021982045081138817,-0.0019149354872377514,-0.006587888880070841,0.057556065038605615,-0.024466492105189808,0.0020875825854761304,0.040562182790380145,0.06615423628136714,0.02937306820862781,0.05147900142911016,0.0184919606854241,0.058253718108060466,0.009720921053607504,-0.00483720310995489,0.029246509116842827,0.07119147009760309,0.0013338508929206928,-0.15001461949277126,-0.03268636385226921,-0.05313880392146602,-0.04161017000207102,0.02302644933631047,-0.026890299610507533,-0.008308145922962498,-0.01663873834935922,0.01799950094802068,0.1050820014222592,0.048598183604008166,0.003209143778723475,0.07637251537450977,-0.02750254580288809,-0.0019671636209530555,-0.039670730604887065,-0.04113407499042902,-0.0070526938297161956,-0.026774106323227707,0.017785040242479063,-0.05923426048844032,0.006743296792783767,0.0066973818840333115,0.0038690130458413994,0.0239016788772916,0.0063001101653264715,0.045964138298786594,0.00014311432895484807,0.027556927619937395,0.0007481852723627102,-0.005632754244772476,0.019388552594473817,-0.06485576201495319,0.04776568871859436,-0.06562885089194749,0.05562471931292694,0.0448101428664688,-0.010263091431704136,-0.022360602336130825,0.10181257124922204,0.03487725730274175,0.04927755253796786,-0.01662321327418507,0.045660631889919895,0.01544279875253255,-0.04986452416820407,-0.08280095641689451,0.08481606647871408,-0.022720632356652053,-0.008080680844496224,-0.019496997639815897,-0.053152118714204735,0.004264682193083368,-0.034314913137706675,0.03093063346842687,0.025887737553937782,-0.07030172522108734,-0.08301098576289126,-0.25812517581528444,-7.160369827473821e-05,-0.030806020918934553,-0.07849982031801549,-0.004474486163792193,-0.017684386326022723,0.015454225936063598,-0.038083921406270566,0.06552857420558474,0.021492873634829615,0.08772653464752166,-0.025731288301635978,0.03075799045465973,0.012765523257858156,0.034154935485751464,0.03592199269183159,-0.035193966619010045,0.0012206238070032107,-0.004232119037889478,-0.018010382271145615,0.002246254227753112,0.0467602170597637,0.015058580712153165,-0.10301021523754657,0.004295587052954791,-0.041493994511415874,0.12641624498889406,0.08191940032171427,-0.013398457297057204,-0.04687008641857592,0.03246884650350214,0.0073855671491593845,0.06309286280059295,-0.12738807373338437,0.04611961384232015,0.01053784739340328,0.06736367053354095,-0.0937145001849358,-0.08031050026040916,0.022109750158853896,-0.02630225157622624,0.006468936532470013,0.006838797510575233,-0.05890061578742912,0.0031184561544293663,-0.09868588517699683,-0.09180746639905514,-0.04966386299461269,-0.030369226106044936,-0.012455316419800131,0.041222215691627026,-0.01689469028072425,-0.0009653220359348248,0.025083659939537713,-0.0576724112018089,-0.08481619834878545,0.006091218052821443,-0.025378639431200015,-0.050908153978454274,0.04606205926636306,-0.021648819476051386,-0.006579585441792727,-0.002800818787946295,0.013751077722068477,-0.050506584520761635,0.024332137070677985,-0.02596403237683439,0.018611828683952017,0.07741904122074142,-0.023716869974195295,-0.0751473365068328,0.010462970283179544,0.03315836432736948,-0.0032847837004193275,0.05722705737944088,0.003925709591090648,0.028588400730918725,-0.0011593298976280884,-0.08406657709303478,-0.029251171540760557,0.0054188312306944954,-0.009402604789655154,0.08192274608715376,0.0380861681571992,-0.018900738213733313,0.05374138537965456,0.05602965875113855,-0.023611130015804296,0.0050614513755736,-0.0296991118545398,-0.0003712419670054497,0.003039095899400436,0.012633416287140719,-0.023028327609583878,0.048516050138882875,-0.061610855007226635,-0.26620913794892415,0.005098001849939233,-0.04028377852062198,0.02658649955733364,0.014801842082452976,0.06160812658043991,0.07790766067993765,0.09333741479832906,-0.03804958850803901,-0.004359002553389905,0.012336837433240948,0.026219378530058995,0.06254262449774724,0.023259106361215632,0.026852176031219525,0.0460632119624959,-0.014079062221188193,0.0042948976525594715,0.0529724247360897,0.016333415371909594,0.0005090024294116292,0.06342228736757187,0.19055903570851163,-0.022450330000278615,0.08269890531952696,0.06822405156283365,-0.05139802270235333,0.004234890643372141,-0.013817085840621664,-0.052193339855318585,-0.011659135401168117,-0.03735480215389707,0.026613602066230795,-0.040661658920380324,0.03653326648830965,-0.021241745463996202,-0.044843320442836,0.012125866762497895,0.03144094642960988,0.005188884544203431,-0.12845616062803553,0.03008004758465785,-0.010389574960771223,0.009621795896385813,0.04671092274338878,-0.04800734733461132,-0.044581070840318475,-0.04680018419431959,-0.028688785655769274,0.024367688745952052,-0.02061284250616073,-0.018805383461085852,0.00010706478581171254,0.00962203367096143,-0.044600538888976644,0.00554102956593744,0.010064518152285037,-0.0426425787487137,-0.026263999627842198,-0.07225789402896464,0.04874534549808551,-0.04914500356911292,0.038275801860179176,-0.011453164852589761,0.03563837561565643}
(1 row)

select llm_embed(:'prompt', 'onnx-bge-micro');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             llm_embed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {-0.08358887800843907,-0.041428626682592125,0.01476333691645226,0.015405096339720455,0.017363917359837888,0.048077983409437766,-0.04764607754498737,0.057984835658122624,-0.009423260196356354,0.04736619896427206,0.02602768716946431,-0.080266640433437,0.0059354988403793295,0.07089897060271551,-0.043242800498091094,0.0063918436119086205,0.01601786259715707,-0.02649855880247009,-0.08962181965821828,0.028564704845615557,-0.00046780554913658756,-0.08835693775703686,-0.05331755260579635,0.006619485720933247,0.04371844197201083,-0.004214720808407226,0.0215801281592468,-0.01809389344413205,-0.04764497536965104,-0.15988598871396092,0.05327160618503715,-0.06908388777540214,0.0075157017619915415,-0.06507484342419564,0.0043375817996337855,-0.05412896557349381,-0.0269528460609485,0.03217420295611262,-0.016393248035050618,0.025916983035244385,0.05819457754055775,-0.004959121872924471,-0.04854438703441883,-0.04088458757753824,0.01621887383376076,-0.029543758443790643,-0.035967220941396795,-0.0059571710402528495,0.028479525478519556,0.01387722653110475,-0.024337698444216977,-0.043656512817977555,0.00922740679496655,-0.045874274302842244,0.04530708260852163,-0.0068073909554810675,0.06951433565421246,0.01656429939504015,-0.010194653362180435,-0.0004384143854688087,0.027064261458506756,0.06451978316122696,-0.10153140449154766,0.058695441204401434,0.053920437751184706,0.023420874820701813,-0.03030882973195621,-0.05646875329020958,-0.011772003043021227,0.02384388471302032,0.04653347209300268,0.05070205939070437,0.026926548967233548,0.019894464474818206,0.03331590952875789,0.023499013871645484,0.0069938692570326675,0.03751174800744704,-0.05250641396126337,-0.0032469703130533403,-0.01471980670697334,-0.07020770076070966,-0.032579947340263975,0.015342002994380401,0.04356931401676787,-0.013587997442577923,-0.02792710820342588,-0.0716449348388659,0.043373884634317565,0.11639481398631615,-0.04233868368789842,0.013790738635964247,-0.0012658261040073692,-0.008928200429444505,-0.053062227883509845,-0.04488342998899727,0.02630090553863342,-0.007088229518409903,-0.009709960712454353,0.13879813695674634,-0.053972084282186854,-0.02030185819201339,0.1152970454458877,-0.054736413165052934,0.08864254109956665,0.0179256986296536,0.041521931809071475,0.03940792700248167,-0.07811133257372187,0.03291372128266362,0.05170291093260854,0.015080124884024382,0.0008725333239136966,-0.019372091421631172,0.008894762954442014,-0.0380488302484682,-0.020197525119505344,0.09124861282937544,0.03310035058997714,-0.0014403258258595727,0.046444117998640864,0.009307244720276569,0.05372080956301631,-0.008131091833858633,0.0391584405047381,-0.02814102269184123,0.03840350050634503,0.07211789798503694,-0.010677037457730945,0.08365995736137888,-0.011664675400019406,-0.10452914801175907,0.027707591020156574,-0.03205766098439135,-0.014846348716712105,0.010143469554276002,0.01969359906357372,-0.026454389922278818,0.04152822974969675,0.026054436208657532,-0.006384886539468889,-0.08997848050072471,0.0019368531353613399,-0.09372827380120045,-0.0023072958736158364,0.011204488615565934,-0.005389346577604014,-0.028779450997073724,-0.06939656807066255,0.012742607523457267,0.006148497320459366,-0.0029007117191993735,0.05631854721575323,0.01993772816150915,-0.02201558477294457,-0.04845748128323172,-0.06486869519307867,0.1053416446363418,0.0009550008097330626,0.011728394800004854,-0.023851652578029868,0.04401612660912146,0.026359408005132628,-0.09212161533700403,0.03954301880542949,-0.08111182277917989,-0.02073703464715052,-0.04887823770036904,-0.030805922658071694,-0.004816565526477817,-0.008816594071524086,0.04391040399778851,-0.06867581613998955,0.008331955726709226,-0.02999693030797406,-0.03074272933691372,-0.09149926012436883,0.030111540227661937,0.02291518451014888,-0.09803504042186832,0.051258848360013654,-0.053582331027134666,-0.06404072547966831,0.06814093324787293,0.0319550995500671,-0.018383428831412526,-0.04727634440281516,-0.00557272926103646,0.018808039289535505,0.010683201839237938,-0.04077084186215852,0.010219456892202173,0.04073521322566957,-0.07400910409118912,-0.02516836172885988,0.02150744591825303,-0.05139314791861517,-0.00931295715630529,-0.003981905590912435,-0.015615828095888224,0.0015295649912008048,-0.1286258772250624,0.029751098048442448,0.015198740058866827,0.07709545845939172,-0.04851544987052696,-0.017228035932517552,-0.018272829496144085,0.06933989803764798,0.014748790643351804,-0.005967846078789671,0.0030121609382374277,0.057221610141490055,-0.03747669168636842,-0.028782575911263406,0.025531960381044213,-0.025624569666303658,0.009605771976684031,-0.014624902860580142,-0.0049062176354148085,0.022199528071222593,-0.03144385465690612,-0.0023006389965817314,-0.17922466570444995,0.04092749989001742,-0.003522767212787808,-0.07206241021519377,0.025387055615139025,-0.03401252995268554,0.0025711347366271925,-0.05601846853293602,0.05915594345751681,0.05762589853475409,0.01829121837761731,-0.06571880797221968,-0.02115745779171315,-0.11414793542276873,0.017842805814907842,0.10695334759211338,0.01264474447621642,-0.0067916696836819645,0.03529036286065538,0.02349858538684158,0.03748373185365861,-0.001021965315205677,0.037663181658712346,-0.06958417698022057,0.05784483199977261,-0.007285952985635095,0.17254686341606668,0.11653742630493008,0.06728066604578176,-0.03502634994802176,-0.03586508709870357,0.03804479358340061,-0.09847811776522954,-0.08591434095892911,0.04947242637867491,0.06712769839986411,0.09455676369849725,-0.016186014658426905,-0.004460345792285364,-0.0034303884256767707,-0.026775296272794118,0.07955928371419903,-0.05096544523642999,-0.15474315689906007,0.017646077520907733,0.0021660817278313324,-0.02403434614881145,-0.05688306117777373,-0.011543060980411768,-0.02930667070404257,0.03194689367307624,0.012384878803453172,0.02390242582413289,0.027901439069791808,0.026467950065529624,0.002042628860708327,-0.016294175750817312,0.016862570489465066,0.011299961591719514,-0.018564931564563025,0.031538299948341716,-0.05591445782140729,0.026600166864060137,-0.0341449822511326,0.02542995884702724,0.006464627763928221,-0.03346631515292228,-0.03430066579760485,-0.002205630291692192,0.07783218175027078,0.03845490355841955,0.04276890869030226,0.061772210993952595,0.020337134590890118,0.04045023760504122,-0.02641303029409453,0.04727433732425968,0.001630549975388395,0.0040253667283551495,-0.013977437432127976,0.05134181685627494,-0.1128313595333327,0.02804409104528169,-0.03502080548803971,0.03357886534151328,-0.041223762179085945,0.06761431160946584,-0.09399945758208932,0.11425111665952821,-0.07157279094294051,-0.02256717875104808,0.07462562387788974,0.04328207164245482,-0.04866488522610345,0.035551483143593486,0.007344430145569317,-0.22335170021029813,0.029779097946484426,-0.00024605209915029233,-0.04356152105360034,0.022893265094907845,0.067732890432172,-0.016325512483201438,0.04090677351556724,-0.013313706551412159,-0.017003153042932307,-0.058332605292085865,0.03742006976559975,0.052946420159442405,0.027382253214716754,0.010104769802377298,-0.013069997840179834,-0.008705927926924074,0.08429877961539717,0.035415932190239474,-0.007657327720019488,0.025466111150776873,-0.06872574259865562,0.16781141513619013,-0.06339941490554572,0.05545815627944548,0.0709654502939478,-0.042900108998548236,0.03954657923071642,0.07099982816090528,0.02339585940030004,0.06432640718323228,0.0043654211051915885,0.0546135496729423,-0.06372380582864096,-0.0012248035667118404,0.03772760895775161,0.004704922012565506,0.019832009122867734,-0.012751250697891132,-0.03262653684549818,-0.027035966277510003,0.05662860444089392,0.029580041150781045,-0.0477566930764574,0.03472798173593215,-0.030802634769603484,-0.09644227410072605,-0.035582926878088866,0.012662761619136171,0.08448023209268685,-0.014796983036639974,-0.041444501818306355,-0.06968348902182782,0.007187290012761165,0.0012984548407376758,0.032212299042232835,-0.0070665378622537705,-0.008688313724063805,-0.0052864071078574755,-0.056925917994444505,-0.002226573885787255,-0.07078456390963071,0.044676721440758994,0.06980708580887454,0.10529667576352947}
(1 row)

